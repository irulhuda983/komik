import{r as l,j as z,V as o,X as t,N as h,a0 as _,J as m,k as d,u as a,I as i,f as r,Z as j}from"./index-BiT8iTy4.js";import{a as L}from"./api-DgShQ8FU.js";import{H as N}from"./carousel.es-BPuFMvx8.js";import{c as w}from"./createLucideIcon-DrtMeLMS.js";/**
 * @license lucide-vue-next v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=w("ChevronsLeftIcon",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-vue-next v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=w("ChevronsRightIcon",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),$={class:"w-full lg:w-[480px] box-border px-4 pb-10"},I={class:"w-full box-border grid grid-cols-3 gap-x-3 gap-y-5 py-4 border-b border-border"},B={class:"w-full"},R=["onClick"],V={class:"w-full box-border overflow-hidden flex items-center justify-center rounded-md"},D=["src"],H={class:"w-full box-border mt-2"},K={class:"flex items-center gap-x-3"},M={class:"text-xs font-light text-primary"},q={class:"text-sm font-semibold mb-2"},E={class:"w-full flex items-center justify-between"},F={class:"text-xs"},J={class:"text-xs text-primary flex items-center gap-x-1 justify-center"},S={class:"w-full box-border flex items-center justify-center gap-x-3 py-4"},U={key:1,class:"flex items-center rounded border border-muted text-muted px-2 py-1 text-sm gap-x-1 font-semibold cursor-not-allowed"},X={class:"bg-secondary text-primary px-2 py-1 text-sm rounded font-semibold border border-secondary"},Z={key:1,class:"flex items-center rounded border border-muted text-muted px-2 py-1 text-sm gap-x-1 font-semibold cursor-not-allowed"},ee={__name:"ListKomik",setup(A){const C=j(),u=l(!1),v=l([]),c=l(1),x=l(null),p=l(null),f=async s=>{u.value=l(!0);try{const{data:e}=await L.get(`/komik?page=${s}`);v.value=e.data.komik,c.value=e.data.currentPage,x.value=e.data.prevPage,p.value=e.data.nextPage,u.value=!1}catch(e){console.log(e),u.value=!1}},b=async s=>{s&&f(s)},P=(s,e)=>s.length>e?s.slice(0,e)+"...":s;return z(()=>{f(c.value)}),(s,e)=>(r(),o("div",$,[t("div",I,[(r(!0),o(h,null,_(v.value,(n,G)=>(r(),o("div",B,[t("div",{class:"w-full box-border rounded-md cursor-pointer",onClick:m(g=>a(C).push({name:"detailKomik",params:{slug:n.slug}}),["prevent"])},[t("div",V,[t("img",{src:`${n.imageUrl}?resize=260,300`,alt:""},null,8,D)]),t("div",H,[t("div",K,[(r(!0),o(h,null,_(n.genre,(g,O)=>(r(),o("div",M,i(g),1))),256))]),t("h1",q,i(P(n.title,16)),1),t("div",E,[t("div",F,"Ch. "+i(n.lastCh),1),t("div",J,[d(a(N),{class:"size-3"}),t("span",null,i(n.reader),1)])])])],8,R)]))),256))]),t("div",S,[t("div",null,[x.value?(r(),o("button",{key:0,onClick:e[0]||(e[0]=m(n=>b(x.value),["prevent"])),class:"flex items-center rounded border border-white px-2 py-1 text-sm gap-x-1"},[d(a(y),{class:"size-4"}),e[2]||(e[2]=t("div",null,"Prev",-1))])):(r(),o("button",U,[d(a(y),{class:"size-4"}),e[3]||(e[3]=t("div",null,"Prev",-1))]))]),t("div",X,"Page "+i(c.value),1),t("div",null,[p.value?(r(),o("button",{key:0,onClick:e[1]||(e[1]=m(n=>b(p.value),["prevent"])),class:"flex items-center rounded border border-white px-2 py-1 text-sm gap-x-1"},[e[4]||(e[4]=t("div",null,"Next",-1)),d(a(k),{class:"size-4"})])):(r(),o("button",Z,[e[5]||(e[5]=t("div",null,"Next",-1)),d(a(k),{class:"size-4"})]))])])]))}};export{ee as default};
